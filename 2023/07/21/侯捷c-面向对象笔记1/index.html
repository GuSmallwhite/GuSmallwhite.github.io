<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    <meta name="keywords" content="侯捷c++面向对象笔记1, 说的">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>侯捷c++面向对象笔记1 | 说的</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.1.1"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>




<body>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">说的</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">说的</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/19.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">侯捷c++面向对象笔记1</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/c/">
                                <span class="chip bg-color">c++</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/%E5%AD%A6%E4%B9%A0/" class="post-category">
                                学习
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2023-07-21
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>All in c++了，那么c++基础重中之重，尤其在我想服务端+游戏双线程的基础上，好，那么好，学习侯捷大师的准没错。</p>
<p>本系列笔记记录侯捷《C++面向对象高级开发》上知识点。</p>
<h2 id="一、头文件与类的声明"><a href="#一、头文件与类的声明" class="headerlink" title="一、头文件与类的声明"></a>一、头文件与类的声明</h2><h3 id="1-1-c和c"><a href="#1-1-c和c" class="headerlink" title="1.1 c和c++"></a>1.1 c和c++</h3><p><img src="1.png"></p>
<p>c语言中，data和函数都是分别定义，根据类型创建的。这样创建出的变量，是全局的。</p>
<p>cpp中，将数据data和函数都包含在一起（class），创建出一个对象，即为面向对象。数据和函数（类的方法）都是局部的，不是全局的。</p>
<p>class的两个经典分类：有指针成员的类（complex）、无指针成员的类（string）。</p>
<h3 id="1-2-头文件与类"><a href="#1-2-头文件与类" class="headerlink" title="1.2 头文件与类"></a>1.2 头文件与类</h3><p><img src="8.png"></p>
<ul>
<li>引用自己写的头文件，用双引号。</li>
</ul>
<p>头文件的标准写法：</p>
<p><img src="2.png"></p>
<p><strong>首先是防卫式声明，如果没定义这个名词，那么就定义一下。ifndef+define。</strong>（这样如果程序是第一次引用它，则定义，后续则不需要重复定义，不需要重复进入下面的过程）</p>
<p>1是要写的类的声明，2是要写类的具体定义，写12的时候发现有一些东西需要提前声明，写在0处。</p>
<p><img src="3.png"></p>
<ul>
<li>模板类型，这里用符号T表示。</li>
<li>这里的意思是，因为实部和虚部的类型不确定，可能是double、float、int，定义起来比较费劲。我自己定义一个模板类型叫做T来满足这个要求。</li>
<li>将T作为一个类型参数来传入，在调用的时候就可以指定类型了。</li>
<li>通过在定义类的前面加入一行代码<code>template&lt;typename T&gt;</code>来实现。</li>
</ul>
<h2 id="二、构造函数"><a href="#二、构造函数" class="headerlink" title="二、构造函数"></a>二、构造函数</h2><p><img src="4.png"></p>
<ul>
<li><p>定义类的时候，<strong>可以直接在body中定义函数（inline函数，在body中定义完成）</strong>，也可以只是在body中声明函数。</p>
</li>
<li><p>inline内联函数。<strong>如果定义的函数是内联函数，那么会比较好，运行比较快，尽可能定义为内联函数。</strong></p>
</li>
<li><p>在body外，通过inline关键字来指定该函数为inline函数。</p>
</li>
<li><p>注意的是，上面所有的inline函数，都只是我们指定的，希望它为inline，具体是不是，要看编译器来决定。</p>
</li>
<li><p>数据应该被定为private，这样外界看不到。函数应该定义为public，被外界使用。</p>
</li>
</ul>
<p><img src="5.png"></p>
<ul>
<li>通过构造函数来创建对象。会自动调用构造函数进行创建。</li>
<li>构造函数名称需要与类的名称一样。函数的参数可以有默认参数。构造函数没有返回类型。</li>
<li>注意，不要使用赋值的方法来写构造函数，<strong>使用构造函数的特殊的方法来写，更规范。</strong>使用初值列、初始值。</li>
</ul>
<p><img src="6.png"></p>
<ul>
<li><p>构造函数可以有很多个，可以重载。<strong>但是上面的12两个构造函数冲突了，右面的调用方式对两个构造函数都适用，冲突。</strong></p>
</li>
<li><p>同名的函数可以有多个，编译器会编成不同的名称，实际调用哪个会根据哪个适用。</p>
<p><img src="7.png"></p>
</li>
</ul>
<ul>
<li>通常构造函数不要放在private中，这样外界没法调用，也就无法创建对象。</li>
<li>但是，在设计模式Singleton（单体）中，将构造函数放在了private中。这个class只有一份，<strong>外界想要调用的时候，只能使用定义的getinstance函数来取得这一份；外界无法创建新的对象。</strong></li>
</ul>
<h2 id="三、参数传递与返回值"><a href="#三、参数传递与返回值" class="headerlink" title="三、参数传递与返回值"></a>三、参数传递与返回值</h2><p><img src="9.png"></p>
<ul>
<li>定义函数的时候，函数名后面➕const，<strong>对于不会改变数据内容的函数，一定要加上const。</strong></li>
<li>对于上面右侧调用方式，我们创建一个常量复数然后输出实部虚部，<strong>如果上面real和img函数定义的时候，没有加const，那么这里函数默认的意思是可能会改变数据，与我们的常量复数就矛盾了。</strong>编译器会报错。因此，对于不会改变数据内容的函数，一定一定要加const。</li>
</ul>
<p><img src="10.png"></p>
<ul>
<li>参数传递，传递value是把整个参数全传过去，double4字节。尽量不要直接value传递。</li>
<li>尽可能传递引用reference，传引用相当于传指针，很快，形式又很漂亮。</li>
<li>传引用过去，修改之后，都会改变；如果只是为了提升速度，不向改变数据，那么传const引用。这样传进去的东西，<strong>不能被修改。</strong></li>
</ul>
<p><img src="11.png"></p>
<ul>
<li>返回值的传递，也尽量返回引用。</li>
<li>1中操作符重载的声明中，没有写变量名，也可以写上。c++中，声明函数的时候，可以不写变量名，实现的时候必须写。</li>
</ul>
<p><img src="12.png"></p>
<ul>
<li>友元：friend，修饰在函数定义之前，<strong>表示这个函数可以直接拿该类对象的private数据。</strong></li>
<li>如上面所示，声明为friend之后，函数可以直接取到re和im，如果不被声明为friend，<strong>只能通过调用real和imag函数来得到，效率较低。</strong></li>
</ul>
<h2 id="四、操作符重载"><a href="#四、操作符重载" class="headerlink" title="四、操作符重载"></a>四、操作符重载</h2><p><img src="13.png"></p>
<ul>
<li>第一种方式，写成成员函数。<strong>所有的成员函数都带有一个隐藏的参数this（是一个指针），this表示（指向）调用这个函数的调用者。</strong></li>
<li>定义函数的时候，<strong>在参数列中不能写出来this</strong>，直接用即可。</li>
</ul>
<p><img src="14.png"></p>
<ul>
<li>传递者无需知道接受者是以引用形式接受。</li>
<li>这里面虽然返回值需要的是引用，但是代码中写的返回值可以是value。</li>
<li>+&#x3D;操作符中，定义的参数是引用，但是传进去的c1也可以是value。</li>
<li>接收端使用什么形式接收与传递者无关。</li>
<li>上面的操作符，进行操作之后，c2改变了，返回了c2的引用。因此感觉上，将操作符写为void函数也可以，<strong>但实际上，为了可以兼容c3+&#x3D;c2+&#x3D;c1的形式，写成返回引用更好。</strong></li>
</ul>
<p><img src="15.png"></p>
<ul>
<li>非成员函数的操作符重载。（没有this）</li>
<li>应对客户的三种方法，写出三种方式，使用时进行重载。</li>
<li>非成员函数是global函数。</li>
<li>这些函数不能返回引用，必须是一个local object。<strong>因为这里面的操作符中二者不是一个加到另一个上，是两个对象相加，因此返回必须是一个对象，不是引用。</strong></li>
<li>typename()，创建一个typename类型的临时对象。</li>
</ul>
<p><img src="16.png"></p>
<p><img src="17.png"></p>
<ul>
<li>cout不认识新定义的这种复数，因此也需要对&lt;&lt;进行操作符重载。</li>
</ul>
<h2 id="五、三大函数：拷贝构造、拷贝赋值、析构函数"><a href="#五、三大函数：拷贝构造、拷贝赋值、析构函数" class="headerlink" title="五、三大函数：拷贝构造、拷贝赋值、析构函数"></a>五、<strong>三大函数：拷贝构造、拷贝赋值、析构函数</strong></h2><p>下面我们学习另一种类，带指针的类，string.h的实现。</p>
<p><img src="18.png"></p>
<ul>
<li>同样进行防卫式的声明。</li>
<li>string s3(s1)就是拷贝构造，s3&#x3D;s2是拷贝赋值。</li>
<li>不写的话，会使用编译器默认的拷贝构造赋值（一个bit一个bit的复制）。针对带有指针的，编译器默认的只是拷贝了指针，而不是指针指向的数据。<strong>因此，如果类中有指针，需要写这两个函数。</strong></li>
</ul>
<p><img src="19.png"></p>
<ul>
<li>因为字符串的长度未知，不能直接设定一个xx长度的数组，这样会导致内存浪费。</li>
<li><strong>因此数据应该是一个指向字符的指针，给出字符串之后，可以动态的调整占用内存。</strong></li>
<li>第二行是拷贝构造函数（因此参数就是string类）。</li>
<li>~String是析构函数。这个类对象死亡的时候，会自动调用。</li>
</ul>
<p><img src="20.png"></p>
<ul>
<li>字符串是一个指针，最后有结束符号\0。</li>
<li>如果传入的是0，说明是空字符串，则只有一个结束符号。</li>
<li><strong>析构函数，释放指针指向的内存。</strong></li>
</ul>
<p><img src="20.png"></p>
<ul>
<li>默认的是浅拷贝。</li>
</ul>
<p><img src="22.png"></p>
<ul>
<li>拷贝赋值，两边目前都有东西。</li>
<li>先检测是不是自我赋值，需要判断一下。</li>
<li><strong>然后先把数据清空，然后新建指定大小的数组。然后把字符串内容复制过来。</strong></li>
</ul>
<p><img src="23.png"></p>
<h2 id="六、堆、栈和内存管理"><a href="#六、堆、栈和内存管理" class="headerlink" title="六、堆、栈和内存管理"></a>六、堆、栈和内存管理</h2><p><img src="24.png"></p>
<ul>
<li>栈是存在于某作用域的一块内存空间。</li>
<li>堆是由操作系统提供的一块全局内存空间，用new来动态取得。<strong>在栈中的，作用域结束，则释放了；在堆中的，需要手动释放。</strong></li>
</ul>
<p><img src="25.png"></p>
<ul>
<li>结束之后，会自动调用析构函数。</li>
</ul>
<p><img src="26.png"></p>
<ul>
<li>加上static之后，会存在到整个程序结束。程序结束之后才会调用析构函数。</li>
</ul>
<p><img src="27.png"></p>
<ul>
<li>加上static之后，会存在到整个程序结束。程序结束之后才会调用析构函数。</li>
</ul>
<p><img src="28.png"></p>
<p><img src="29.png"></p>
<p><img src="30.png"></p>
<ul>
<li>先分配了内存，将指针转型，通过指针调用构造函数。</li>
<li>内部使用malloc分配内存。</li>
</ul>
<p><img src="31.png"></p>
<ul>
<li>先调用析构函数，再释放内存。</li>
<li>内部使用free来释放。</li>
</ul>
<p><img src="32.png"></p>
<ul>
<li><strong>Vc调试模式下，前后都带着灰色的内存部分</strong>（上面32，下面4），还有头尾的cookie（每个cookie4字节）。分配的内存都是16的倍数，因此填充到64字节。</li>
<li>执行模式下，没有灰色的，则占用16字节。</li>
<li>cookie表示使用了多少字节，每一位是4位bit，因为内存必须是16的倍数，因此最后四位bit一定都是0，借用最后的一位1表示占用内存，0表示释放内存。</li>
</ul>
<p><img src="33.png"></p>
<ul>
<li>左边的，最后加的4字节，保存数组的长度。</li>
<li>右边的同理。</li>
</ul>
<p><img src="34.png"></p>
<ul>
<li><strong>array new一定要搭配array delete，否则会内存泄漏。因为普通的delete只调用一次析构函数。内存泄漏会发生在剩下两个，因为剩下两个没有调用析构函数。</strong></li>
<li>这种情况主要发生在有指针的类，因为如果没有指针的类（比如之前的复数），没有动态分配内存new，因此也就不需要调用自己写的析构函数来杀掉。</li>
</ul>
<h2 id="七、类，模板"><a href="#七、类，模板" class="headerlink" title="七、类，模板"></a>七、类，模板</h2><h3 id="7-1-static"><a href="#7-1-static" class="headerlink" title="7.1 static"></a>7.1 static</h3><p><img src="35.png"></p>
<ul>
<li><p>在数据或函数前加static关键字，则变为静态函数&#x2F;数据。</p>
</li>
<li><p>一个成员函数要处理很多个数据，需要靠某个东西告诉他处理谁，就是this pointer。来告诉他处理从c1、c2、c3。<strong>成员函数有一个隐藏的this pointer参数。</strong></p>
</li>
<li><p>加上static之后，这个数据&#x2F;函数就不属于这个对象了，跟这个对象脱离。</p>
</li>
<li><p>静态函数没有this pointer参数，因此不能直接处理普通的对象，只能处理静态数据。**</p>
</li>
</ul>
<p><img src="36.png"></p>
<ul>
<li>这个例子中，利率mrate是静态数据，set_rate是静态函数。</li>
<li>静态函数set_rate只能处理静态数据。</li>
<li>静态函数可以通过对象object来调用，也可以通过class name来调用。</li>
</ul>
<p><img src="37.png"></p>
<ul>
<li>构造函数放在private中，不想让外界创建。</li>
<li>设计一个静态函数，来返回唯一的那一份，这个静态函数是外界取得这一份的唯一方法。</li>
<li>调用这个静态函数之后，才开始创建这唯一的一份。</li>
</ul>
<h3 id="7-2-cout"><a href="#7-2-cout" class="headerlink" title="7.2 cout"></a>7.2 cout</h3><p><img src="38.png"></p>
<ul>
<li>cout是一种ostream。</li>
<li>设计了很多种&lt;&lt;的操作符重载。</li>
</ul>
<h3 id="7-3-模板"><a href="#7-3-模板" class="headerlink" title="7.3 模板"></a>7.3 模板</h3><p><img src="39.png"></p>
<ul>
<li>使用T来代替某种类型，类模板。</li>
<li>使用的时候，&lt;&gt;中写明类型，编译器就会把T全部替换为这种类型。</li>
</ul>
<p><img src="40.png"></p>
<ul>
<li>函数模板。</li>
<li>这里面的min，比较的类型用T来表示。</li>
<li>这样比较的时候，&lt;符号就会使用T类型中重载的&lt;符号来进行。</li>
<li><strong>用的时候不需要用&lt;&gt;绑定类型，编译器会根据传进去的对象类型自动绑定T类型。</strong></li>
</ul>
<h3 id="7-4-namespace"><a href="#7-4-namespace" class="headerlink" title="7.4 namespace"></a>7.4 namespace</h3><p><img src="41.png"></p>
<p>一目了然</p>
<h2 id="八、组合与继承"><a href="#八、组合与继承" class="headerlink" title="八、组合与继承"></a>八、组合与继承</h2><h3 id="8-1-组合"><a href="#8-1-组合" class="headerlink" title="8.1 组合"></a>8.1 组合</h3><p><img src="42.png"></p>
<ul>
<li>表示这个class queue中，有一个这种sequence类东西。</li>
<li>这个sequence是deque<T></T></li>
<li>queue里面所有的功能，都是调用c的功能来完成的。</li>
</ul>
<p><img src="43.png"></p>
<ul>
<li>queue中有deque，deque的源代码中，还有另一个复合，Itr<T>。</T></li>
<li>从内存的角度看，queue占用40字节。</li>
</ul>
<p><img src="44.png"></p>
<ul>
<li>左边拥有右边。</li>
<li><strong>复合情况下的构造函数，由内而外，析构函数，由外而内。</strong>代码中红色的部分，是编译器来完成的。<strong>编译器会调用内部的默认的构造函数或析构函数。</strong>如果不希望调用默认的，那么就需要自己写代码。</li>
</ul>
<h3 id="8-2-委托"><a href="#8-2-委托" class="headerlink" title="8.2 委托"></a>8.2 委托</h3><p><img src="45.png"></p>
<ul>
<li>引用方式的复合，<strong>即左边has a右边类的指针。</strong></li>
<li>即可以通过该指针，把任务委托给右边的类。</li>
<li>复合中，内部和外部是一起出现的，即调用二者的构造函数；而委托的话，因为是指针，是不同步的，当需要右边的时候，才创建这个。</li>
<li>应用实例：右面的类为具体的实现，左边只是调用的接口。</li>
</ul>
<h3 id="8-3继承"><a href="#8-3继承" class="headerlink" title="8.3继承"></a>8.3继承</h3><p><img src="46.png"></p>
<ul>
<li>黄的的一行为使用public继承的语法，表示继承_List_node_base类。</li>
<li>继承，表示is-a，是一种。</li>
<li>父类的数据会被完整继承下来。</li>
<li>子类拥有自己的以及父类的数据。</li>
</ul>
<p><img src="47.png"></p>
<ul>
<li>子类的对象中有父类的成分。</li>
<li>构造时，先调用父类的构造函数，然后再调用自己的。</li>
<li>析构时，先析构自己，然后析构父类的。</li>
<li>编译器会自动完成。</li>
</ul>
<h2 id="九、虚函数与多态"><a href="#九、虚函数与多态" class="headerlink" title="九、虚函数与多态"></a>九、虚函数与多态</h2><p><img src="48.png"></p>
<ul>
<li>搭配虚函数来完成继承。</li>
<li>在任何成员函数之前加上virtual关键字，即为虚函数。</li>
<li>子类可以调用父类的函数，即继承了函数（实际上是继承了函数的调用权）。</li>
<li>非虚函数，是不希望子类重新定义（override）的函数。**</li>
<li>虚函数，希望子类重新定义它，且已有默认定义。</li>
<li>纯虚函数，希望子类重新定义它，且目前没有默认定义，一定要去定义。<strong>即函数定义后面直接&#x3D;0。</strong></li>
<li>上图中，定义了一个父类shape，<strong>其中定义了几种成员函数。objectID是非虚函数，不需要重新定义。error是虚函数，有默认定义，可以重新定义。draw函数是纯虚函数，没有默认定义，必须要子类来重新定义。</strong></li>
</ul>
<p><img src="49.png"></p>
<ul>
<li>父类中其他可以通用，读文件这个函数Serialize设置为虚函数，需要override。</li>
<li>我们定义一个读文档的类，那么serialize函数就要override成读文档的函数。</li>
<li><strong>调用serialize时，通过隐藏的this pointer来调用，因为myDoc.OnFileOpen，因此this就是myDoc，因此调用的是我们override之后的serialize函数。</strong></li>
<li>这就是设计模式，template method</li>
</ul>
<p>还讲了观察者模式，但是我这种设计模式大佬还用听？轻轻松松，不看了</p>

                
            </div>
            <hr/>

            



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/c/">
                                    <span class="chip bg-color">c++</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2023/08/08/%E4%BE%AF%E6%8D%B7c-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%AC%94%E8%AE%B02/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/20.jpg" class="responsive-img" alt="侯捷c++面向对象笔记2">
                        
                        <span class="card-title">侯捷c++面向对象笔记2</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2023-08-08
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E5%AD%A6%E4%B9%A0/" class="post-category">
                                    学习
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/c/">
                        <span class="chip bg-color">c++</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2023/06/24/Lec%2007~09%20-%20Shading%20%E5%85%89%E7%85%A7%E3%80%81%E7%9D%80%E8%89%B2%E3%80%81%E7%9D%80%E8%89%B2%E9%A2%91%E7%8E%87%E3%80%81%E5%9B%BE%E5%BD%A2%E7%AE%A1%E7%BA%BF%E3%80%81%E7%BA%B9%E7%90%86%E6%98%A0%E5%B0%84%201f8a39b2d54544279bd1b2b31059ac86/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/4.jpg" class="responsive-img" alt="games101-lec7~9">
                        
                        <span class="card-title">games101-lec7~9</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2023-06-24
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E5%AD%A6%E4%B9%A0/" class="post-category">
                                    学习
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E5%9B%BE%E5%BD%A2%E5%AD%A6/">
                        <span class="chip bg-color">图形学</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2019-2023</span>
            
            <span id="year">2019</span>
            <a href="/about" target="_blank">G</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link ">
    <a href="https://github.com/GuSmallwhite" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>















    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

    
    

    

    

	
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
    

</body>

</html>
